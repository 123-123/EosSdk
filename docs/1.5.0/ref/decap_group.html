
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>decap_group module reference &mdash; Arista EOS SDK 1.5.0 reference</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/breathe.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.5.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Arista EOS SDK 1.5.0 reference" href="index.html" />
    <link rel="next" title="directflow module reference" href="directflow.html" />
    <link rel="prev" title="class_map module reference" href="class_map.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="directflow.html" title="directflow module reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="class_map.html" title="class_map module reference"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Arista EOS SDK 1.5.0 reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="decap-group-module-reference">
<h1>decap_group module reference<a class="headerlink" href="#decap-group-module-reference" title="Permalink to this headline">¶</a></h1>
<p>Tunnel decapsulation group management.</p>
<p>This module manages tunnel decapsulation for traffic arriving at the switch (on any interface). This allows the switch to act as a tunnel endpoint.</p>
<p>By configuring a &#8220;decap group&#8221;, the switch will decapsulate traffic matching the specified outer (tunnel) header destination IP address and IP protocol. Presently only GRE traffic (protocol 47) is supported by decap groups. Traffic arriving at the switch matching the group&#8217;s parameters will be decapsulated and forwarded normally based on the inner protocol headers.</p>
<p>In this example, a decap group named &#8220;gre_tunnel1&#8221; is configured for GRE traffic arriving at the switch with a tunnel destination address of 172.12.0.1. That address may either be bound to a local switch interface or announced by the switch in routing protocols.</p>
<p> <pre class="literal-block">
 // Configures a decapsulation group to unwrap received GRE traffic
 <a class="reference internal" href="#eossdkclasseos_1_1decap__group__t"><em>eos::decap_group_t</em></a> tunnel(&quot;gre_tunnel1&quot;,
                           <a class="reference internal" href="ip.html#eossdkclasseos_1_1ip__addr__t"><em>eos::ip_addr_t</em></a>(&quot;172.12.0.1&quot;),
                           eos::PROTOCOL_TYPE_GRE);
 mgr-&gt;decap_group_set(tunnel);
</pre>
</p>
<dl class="namespace">
<dt>
<span class="target" id="eossdknamespaceeos"></span><em>namespace</em> <tt class="descname">eos</tt></dt>
<dd><dl class="class">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__iter__t"></span><em>class</em> <tt class="descname">decap_group_iter_t</tt></dt>
<dd><div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Private Functions</p>
<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__iter__t_1a9510b8065e917152dd6b2cf09f66c883"></span><tt class="descname">decap_group_iter_t</tt><big>(</big>decap_group_iter_impl * <em>const</em><big>)</big></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Friends</p>
<dl class="friend">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__iter__t_1ac757905c7784855698c979ce18c6938c"></span>friend class <tt class="descname">decap_group_iter_impl</tt></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="class">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__mgr"></span><em>class</em> <tt class="descname">decap_group_mgr</tt></dt>
<dd><em>#include &lt;decap_group.h&gt;</em><p>A manager of &#8216;ip decap-group&#8217; configurations.</p>
<p>Create one of these via sdk object prior to starting the agent main loop. When your eos::agent_handler::on_initialized virtual function is called, the manager is valid for use. </p>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__mgr_1aef5d97ebae6c299b6c4df359b024f30d"></span>virtual <tt class="descname">~decap_group_mgr</tt><big>(</big><big>)</big></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__mgr_1aee44bd35f6a16bc01bb111174224cff5"></span>virtual void <tt class="descname">resync_init</tt><big>(</big><big>)</big> = 0</dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__mgr_1a122f03de7c78587a5453668482812677"></span>virtual void <tt class="descname">resync_complete</tt><big>(</big><big>)</big> = 0</dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__mgr_1a622110213527da6746cce310af015131"></span>virtual <a class="reference internal" href="#eossdkclasseos_1_1decap__group__iter__t"><em>decap_group_iter_t</em></a> <tt class="descname">decap_group_iter</tt><big>(</big><big>)</big> const = 0</dt>
<dd><p>Iterates over all the decap groups currently configured. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__mgr_1abd0f7497480d855b754d16bc00e7b6c8"></span>virtual void <tt class="descname">decap_group_set</tt><big>(</big><a class="reference internal" href="#eossdkclasseos_1_1decap__group__t"><em>decap_group_t</em></a> const &amp;<big>)</big> = 0</dt>
<dd><p>Adds the specified decap group to the system configuration Create a new or updates an existing decap group with the same name </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__mgr_1a4aa1f0b23b39daf8516e01029636e053"></span>virtual void <tt class="descname">decap_group_del</tt><big>(</big>std::string const &amp; <em>decap_group_name</em><big>)</big> = 0</dt>
<dd><p>Removes the named decap group from the configuration if it exists. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__mgr_1a4a381e2e7fe3b3fef103e9f0716bf62c"></span><tt class="descname">decap_group_mgr</tt><big>(</big><big>)</big></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Private Members</p>
<dl class="variable">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__mgr_1ada8ffa4822637482040c4ce82b661924"></span><tt class="descname">decap_group_mgr</tt></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="decap-group-type-definitions">
<h1>decap_group type definitions<a class="headerlink" href="#decap-group-type-definitions" title="Permalink to this headline">¶</a></h1>
<dl class="namespace">
<dt>
<span class="target" id="eossdknamespaceeos"></span><em>namespace</em> <tt class="descname">eos</tt></dt>
<dd><div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Enums</p>
<dl class="enum">
<dt>
<span class="target" id="eossdknamespaceeos_1a14e1fda000ea17f0ee85179630705a44"></span><strong>decap_protocol_type_t enum</strong></dt>
<dd><p>Inner (IP) protocol to match for a decap group, only the GRE protocol is presently supported. </p>
<p><em>Values:</em></p>
<ul class="breatheenumvalues">
<li><tt class="first docutils literal"><span class="pre">PROTOCOL_TYPE_NULL</span></tt> - </li>
<li><tt class="first docutils literal"><span class="pre">PROTOCOL_TYPE_GRE</span></tt> - </li>
</ul>
</dd></dl>

</div>
<dl class="class">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__t"></span><em>class</em> <tt class="descname">decap_group_t</tt></dt>
<dd><em>#include &lt;decap_group.h&gt;</em><p>An ip decap-group configuration model. Note that once created, the group_name member cannot be changed. </p>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__t_1aa655919c2353b508d394f6a04d7786c7"></span><tt class="descname">decap_group_t</tt><big>(</big><big>)</big></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__t_1af293ab76d3dbb197647d859a6705a2f1"></span><tt class="descname">decap_group_t</tt><big>(</big>std::string <em>group_name</em>, <a class="reference internal" href="ip.html#eossdkclasseos_1_1ip__addr__t"><em>ip_addr_t</em></a> const &amp; <em>destination_addr</em>, decap_protocol_type_t <em>protocol_type</em><big>)</big></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__t_1a1797b9b1b18979a781b7d65924f13ad1"></span>std::string <tt class="descname">group_name</tt><big>(</big><big>)</big> const</dt>
<dd><p>Getter for &#8216;group_name&#8217;: the decap-group name, must be supplied. Note that the decap group namespace is per-VRF, that is, the vrf_name scopes the decap- group name. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__t_1a0e469eb04b701459696d1d1f1b0572fc"></span><a class="reference internal" href="ip.html#eossdkclasseos_1_1ip__addr__t"><em>ip_addr_t</em></a> <tt class="descname">destination_addr</tt><big>(</big><big>)</big> const</dt>
<dd><p>Getter for &#8216;destination_addr&#8217;: match destination IP on the outermost IP header. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__t_1ac5035b1818e83f462a053a7612a2e754"></span>void <tt class="descname">destination_addr_is</tt><big>(</big><a class="reference internal" href="ip.html#eossdkclasseos_1_1ip__addr__t"><em>ip_addr_t</em></a> const &amp; <em>destination_addr</em><big>)</big></dt>
<dd><p>Setter for &#8216;destination_addr&#8217;. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__t_1acd93b738d03f8b287acd2a0b3f274836"></span>decap_protocol_type_t <tt class="descname">protocol_type</tt><big>(</big><big>)</big> const</dt>
<dd><p>Getter for &#8216;protocol_type&#8217;: match this outer IP protocol to decap. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__t_1a5afb256c7bd9d6fdc89107949c177db5"></span>void <tt class="descname">protocol_type_is</tt><big>(</big>decap_protocol_type_t <em>protocol_type</em><big>)</big></dt>
<dd><p>Setter for &#8216;protocol_type&#8217;. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__t_1ab8472b91438a390958e36f4397de091f"></span>bool <tt class="descname">persistent</tt><big>(</big><big>)</big> const</dt>
<dd><p>Getter for &#8216;persistent&#8217;: if true, the decap group is included in the running- config. Defaults to false. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__t_1a0764ebca97bb333877825622824e02bf"></span>void <tt class="descname">persistent_is</tt><big>(</big>bool <em>persistent</em><big>)</big></dt>
<dd><p>Setter for &#8216;persistent&#8217;. </p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__t_1a8cfb01a8cd695814b4d6cc1aff4189b2"></span>bool <tt class="descname">operator==</tt><big>(</big><a class="reference internal" href="#eossdkclasseos_1_1decap__group__t"><em>decap_group_t</em></a> const &amp; <em>other</em><big>)</big> const</dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__t_1a662a20747e70bef541e3d22873334a2a"></span>bool <tt class="descname">operator!=</tt><big>(</big><a class="reference internal" href="#eossdkclasseos_1_1decap__group__t"><em>decap_group_t</em></a> const &amp; <em>other</em><big>)</big> const</dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__t_1acdde4804e0bcac59cc99d7adc475a3e4"></span>std::string <tt class="descname">to_string</tt><big>(</big><big>)</big> const</dt>
<dd><p>Returns a string representation of the current object&#8217;s values. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Private Members</p>
<dl class="variable">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__t_1a73af55132bf47a4a4cfb2b47e3e3fd9e"></span>std::string <tt class="descname">group_name_</tt></dt>
<dd></dd></dl>

<dl class="variable">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__t_1ad16d0d5608968a57f5daef43ebe27744"></span><a class="reference internal" href="ip.html#eossdkclasseos_1_1ip__addr__t"><em>ip_addr_t</em></a> <tt class="descname">destination_addr_</tt></dt>
<dd></dd></dl>

<dl class="variable">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__t_1a979afbc1bf4b4a83927e1725a24ea41b"></span>decap_protocol_type_t <tt class="descname">protocol_type_</tt></dt>
<dd></dd></dl>

<dl class="variable">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__t_1a26d6f667cba1fb33b993d00f272e90fc"></span>bool <tt class="descname">persistent_</tt></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef container">
<p class="breathe-sectiondef-title rubric">Friends</p>
<dl class="friend">
<dt>
<span class="target" id="eossdkclasseos_1_1decap__group__t_1a061f1afb3fcdf07461ebc3fd9bcf5cb7"></span>friend std::ostream &amp; <tt class="descname">operator&lt;&lt;</tt></dt>
<dd><p>A utility stream operator that adds a string representation of <a class="reference internal" href="#eossdkclasseos_1_1decap__group__t"><em>decap_group_t</em></a> to the ostream. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">decap_group module reference</a></li>
<li><a class="reference internal" href="#decap-group-type-definitions">decap_group type definitions</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="class_map.html"
                        title="previous chapter">class_map module reference</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="directflow.html"
                        title="next chapter">directflow module reference</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="directflow.html" title="directflow module reference"
             >next</a> |</li>
        <li class="right" >
          <a href="class_map.html" title="class_map module reference"
             >previous</a> |</li>
        <li><a href="index.html">Arista EOS SDK 1.5.0 reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Arista Networks.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>